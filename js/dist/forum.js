module.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e){t.exports=flarum.core.compat.app},function(t,e){t.exports=flarum.core.compat["components/UserPage"]},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat.Model},function(t,e){t.exports=flarum.core.compat["models/User"]},function(t,e){t.exports=flarum.core.compat["helpers/listItems"]},function(t,e){t.exports=flarum.core.compat["utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["components/Button"]},function(t,e){t.exports=flarum.core.compat.Component},function(t,e){t.exports=flarum.core.compat["components/Modal"]},function(t,e){t.exports=flarum.core.compat["components/LinkButton"]},function(t,e){t.exports=flarum.core.compat["components/CommentPost"]},function(t,e){jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},plugins:{},svgPath:null},function(t,e,n,o){"use strict";o.fn.trumbowyg=function(t,e){var n="trumbowyg";if(t===Object(t)||!t)return this.each((function(){o(this).data(n)||o(this).data(n,new r(this,t))}));if(1===this.length)try{var a=o(this).data(n);switch(t){case"execCmd":return a.execCmd(e.cmd,e.param,e.forceCss);case"openModal":return a.openModal(e.title,e.content);case"closeModal":return a.closeModal();case"openModalInsert":return a.openModalInsert(e.title,e.fields,e.callback);case"saveRange":return a.saveRange();case"getRange":return a.range;case"getRangeText":return a.getRangeText();case"restoreRange":return a.restoreRange();case"enable":return a.toggleDisable(!1);case"disable":return a.toggleDisable(!0);case"destroy":return a.destroy();case"empty":return a.empty();case"html":return a.html(e)}}catch(t){}return!1};var r=function(t,r){var a=this,i="trumbowyg-icons";a.doc=t.ownerDocument||n,a.$ta=o(t),a.$c=o(t),null!=(r=r||{}).lang||null!=o.trumbowyg.langs[r.lang]?a.lang=o.extend(!0,{},o.trumbowyg.langs.en,o.trumbowyg.langs[r.lang]):a.lang=o.trumbowyg.langs.en;var s=null!=o.trumbowyg.svgPath?o.trumbowyg.svgPath:r.svgPath;if(a.hasSvg=!1!==s,a.svgPath=a.doc.querySelector("base")?e.location.href.split("#")[0]:"",0===o("#"+i,a.doc).length&&!1!==s){if(null==s)try{throw new Error}catch(t){var l=t.stack.split("\n");for(var c in l)if(l[c].match(/http[s]?:\/\//)){(s=l[Number(c)].match(/((http[s]?:\/\/.+\/)([^\/]+\.js))(\?.*)?:/)[1].split("/")).pop(),s=s.join("/")+"/ui/icons.svg";break}}var d=a.doc.createElement("div");d.id=i,a.doc.body.insertBefore(d,a.doc.body.childNodes[0]),o.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",url:s,data:null,beforeSend:null,complete:null,success:function(t){d.innerHTML=(new XMLSerializer).serializeToString(t.documentElement)}})}var u=a.lang.header,h=function(){return(e.chrome||e.Intl&&Intl.v8BreakIterator)&&"CSS"in e};a.btnsDef={viewHTML:{fn:"toggle"},undo:{isSupported:h,key:"Z"},redo:{isSupported:h,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:u+" 1"},h2:{fn:"formatBlock",title:u+" 2"},h3:{fn:"formatBlock",title:u+" 3"},h4:{fn:"formatBlock",title:u+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},a.o=o.extend(!0,{},{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]},btns:[["viewHTML"],["undo","redo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify","btnGrp-lists",["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],imgDblClickHandler:function(){var t=o(this),e=t.attr("src"),n="(Base64)";return 0===e.indexOf("data:image")&&(e=n),a.openModalInsert(a.lang.insertImage,{url:{label:"URL",value:e,required:!0},alt:{label:a.lang.description,value:t.attr("alt")}},(function(e){return e.src!==n&&t.attr({src:e.src}),t.attr({alt:e.alt}),!0})),!1},plugins:{}},r),a.disabled=a.o.disabled||"TEXTAREA"===t.nodeName&&t.disabled,r.btns?a.o.btns=r.btns:a.o.semantic||(a.o.btns[4]="btnGrp-design"),o.each(a.o.btnsDef,(function(t,e){a.addBtnDef(t,e)})),a.eventNamespace="trumbowyg-event",a.keys=[],a.tagToButton={},a.tagHandlers=[],a.pasteHandlers=[].concat(a.o.pasteHandlers),a.init()};r.prototype={init:function(){var t=this;t.height=t.$ta.height(),t.initPlugins();try{t.doc.execCommand("enableObjectResizing",!1,!1)}catch(t){}t.doc.execCommand("defaultParagraphSeparator",!1,"p"),t.buildEditor(),t.buildBtnPane(),t.fixedBtnPaneEvents(),t.buildOverlay(),setTimeout((function(){t.disabled&&t.toggleDisable(!0),t.$c.trigger("tbwinit")}))},addBtnDef:function(t,e){this.btnsDef[t]=e},buildEditor:function(){var t=this,n=t.o.prefix,r="";t.$box=o("<div/>",{class:n+"box "+n+"editor-visible "+n+t.o.lang+" trumbowyg"}),t.isTextarea=t.$ta.is("textarea"),t.isTextarea?(r=t.$ta.val(),t.$ed=o("<div/>"),t.$box.insertAfter(t.$ta).append(t.$ed,t.$ta)):(t.$ed=t.$ta,r=t.$ed.html(),t.$ta=o("<textarea/>",{name:t.$ta.attr("id"),height:t.height}).val(r),t.$box.insertAfter(t.$ed).append(t.$ta,t.$ed),t.syncCode()),t.$ta.addClass(n+"textarea").attr("tabindex",-1),t.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:t.lang._dir||"ltr"}).html(r),t.o.tabindex&&t.$ed.attr("tabindex",t.o.tabindex),t.$c.is("[placeholder]")&&t.$ed.attr("placeholder",t.$c.attr("placeholder")),t.o.resetCss&&t.$ed.addClass(n+"reset-css"),t.o.autogrow||t.$ta.add(t.$ed).css({height:t.height}),t.semanticCode();var a,i=!1,s=!1;t.$ed.on("dblclick","img",t.o.imgDblClickHandler).on("keydown",(function(e){if(s=229===e.which,e.ctrlKey){i=!0;var n=t.keys[String.fromCharCode(e.which).toUpperCase()];try{return t.execCmd(n.fn,n.param),!1}catch(t){}}})).on("keyup input",(function(e){e.which>=37&&e.which<=40||(!e.ctrlKey||89!==e.which&&90!==e.which?i||17===e.which||s||(t.semanticCode(!1,13===e.which),t.$c.trigger("tbwchange")):t.$c.trigger("tbwchange"),setTimeout((function(){i=!1}),200))})).on("mouseup keydown keyup",(function(){clearTimeout(a),a=setTimeout((function(){t.updateButtonPaneStatus()}),50)})).on("focus blur",(function(e){t.$c.trigger("tbw"+e.type),"blur"===e.type&&o("."+n+"active-button",t.$btnPane).removeClass(n+"active-button "+n+"active")})).on("cut",(function(){setTimeout((function(){t.semanticCode(!1,!0),t.$c.trigger("tbwchange")}),0)})).on("paste",(function(n){if(t.o.removeformatPasted){n.preventDefault();try{var r=e.clipboardData.getData("Text");try{t.doc.selection.createRange().pasteHTML(r)}catch(e){t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(r))}}catch(e){t.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}o.each(t.pasteHandlers,(function(t,e){e(n)})),setTimeout((function(){t.semanticCode(!1,!0),t.$c.trigger("tbwpaste",n)}),0)})),t.$ta.on("keyup paste",(function(){t.$c.trigger("tbwchange")})),t.$box.on("keydown",(function(e){return 27===e.which&&1===o("."+n+"modal-box",t.$box).length?(t.closeModal(),!1):void 0}))},buildBtnPane:function(){var t=this,e=t.o.prefix,n=t.$btnPane=o("<div/>",{class:e+"button-pane"});o.each(t.o.btns,(function(r,a){try{var i=a.split("btnGrp-");null!=i[1]&&(a=t.o.btnsGrps[i[1]])}catch(t){}o.isArray(a)||(a=[a]);var s=o("<div/>",{class:e+"button-group "+(a.indexOf("fullscreen")>=0?e+"right":"")});o.each(a,(function(e,n){try{var o;t.isSupportedBtn(n)&&(o=t.buildBtn(n)),s.append(o)}catch(t){}})),n.append(s)})),t.$box.prepend(n)},buildBtn:function(t){var e=this,n=e.o.prefix,r=e.btnsDef[t],a=r.dropdown,i=null==r.hasIcon||r.hasIcon,s=e.lang[t]||t,l=o("<button/>",{type:"button",class:n+t+"-button "+(r.class||"")+(i?"":" "+n+"textual-button"),html:e.hasSvg&&i?'<svg><use xlink:href="'+e.svgPath+"#"+n+(r.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':r.text||r.title||e.lang[t]||t,title:(r.title||r.text||s)+(r.key?" (Ctrl + "+r.key+")":""),tabindex:-1,mousedown:function(){return(!a||o("."+t+"-"+n+"dropdown",e.$box).is(":hidden"))&&o("body",e.doc).trigger("mousedown"),!(e.$btnPane.hasClass(n+"disable")&&!o(this).hasClass(n+"active")&&!o(this).hasClass(n+"not-disable"))&&(e.execCmd((!a?r.fn:"dropdown")||t,r.param||t,r.forceCss||!1),!1)}});if(a){l.addClass(n+"open-dropdown");var c=n+"dropdown",d=o("<div/>",{class:c+"-"+t+" "+c+" "+n+"fixed-top","data-dropdown":t});o.each(a,(function(t,n){e.btnsDef[n]&&e.isSupportedBtn(n)&&d.append(e.buildSubBtn(n))})),e.$box.append(d.hide())}else r.key&&(e.keys[r.key]={fn:r.fn||t,param:r.param||t});return a||(e.tagToButton[(r.tag||t).toLowerCase()]=t),l},buildSubBtn:function(t){var e=this,n=e.o.prefix,r=e.btnsDef[t],a=null==r.hasIcon||r.hasIcon;return r.key&&(e.keys[r.key]={fn:r.fn||t,param:r.param||t}),e.tagToButton[(r.tag||t).toLowerCase()]=t,o("<button/>",{type:"button",class:n+t+"-dropdown-button"+(r.ico?" "+n+r.ico+"-button":""),html:e.hasSvg&&a?'<svg><use xlink:href="'+e.svgPath+"#"+n+(r.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(r.text||r.title||e.lang[t]||t):r.text||r.title||e.lang[t]||t,title:r.key?" (Ctrl + "+r.key+")":null,style:r.style||null,mousedown:function(){return o("body",e.doc).trigger("mousedown"),e.execCmd(r.fn||t,r.param||t,r.forceCss||!1),!1}})},isSupportedBtn:function(t){try{return this.btnsDef[t].isSupported()}catch(t){}return!0},buildOverlay:function(){var t=this;return t.$overlay=o("<div/>",{class:t.o.prefix+"overlay"}).css({top:t.$btnPane.outerHeight(),height:t.$ed.outerHeight()+1+"px"}).appendTo(t.$box),t.$overlay},showOverlay:function(){var t=this;o(e).trigger("scroll"),t.$overlay.fadeIn(200),t.$box.addClass(t.o.prefix+"box-blur")},hideOverlay:function(){var t=this;t.$overlay.fadeOut(50),t.$box.removeClass(t.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var t=this,n=t.o.fixedFullWidth,r=t.$box;t.o.fixedBtnPane&&(t.isFixed=!1,o(e).on("scroll."+t.eventNamespace+" resize."+t.eventNamespace,(function(){if(r){t.syncCode();var a=o(e).scrollTop(),i=r.offset().top+1,s=t.$btnPane,l=s.outerHeight()-2;a-i>0&&a-i-t.height<0?(t.isFixed||(t.isFixed=!0,s.css({position:"fixed",top:0,left:n?"0":"auto",zIndex:7}),o([t.$ta,t.$ed]).css({marginTop:s.height()})),s.css({width:n?"100%":r.width()-1+"px"}),o("."+t.o.prefix+"fixed-top",r).css({position:n?"fixed":"absolute",top:n?l:l+(a-i)+"px",zIndex:15})):t.isFixed&&(t.isFixed=!1,s.removeAttr("style"),o([t.$ta,t.$ed]).css({marginTop:0}),o("."+t.o.prefix+"fixed-top",r).css({position:"absolute",top:l}))}})))},toggleDisable:function(t){var e=this,n=e.o.prefix;e.disabled=t,t?e.$ta.attr("disabled",!0):e.$ta.removeAttr("disabled"),e.$box.toggleClass(n+"disabled",t),e.$ed.attr("contenteditable",!t)},destroy:function(){var t=this,n=t.o.prefix,r=t.height;t.isTextarea?t.$box.after(t.$ta.css({height:r}).val(t.html()).removeClass(n+"textarea").show()):t.$box.after(t.$ed.css({height:r}).removeClass(n+"editor").removeAttr("contenteditable").html(t.html()).show()),t.$ed.off("dblclick","img"),t.destroyPlugins(),t.$box.remove(),t.$c.removeData("trumbowyg"),o("body").removeClass(n+"body-fullscreen"),t.$c.trigger("tbwclose"),o(e).off("scroll."+t.eventNamespace+" resize."+t.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var t=this,e=t.o.prefix;t.semanticCode(!1,!0),setTimeout((function(){t.doc.activeElement.blur(),t.$box.toggleClass(e+"editor-hidden "+e+"editor-visible"),t.$btnPane.toggleClass(e+"disable"),o("."+e+"viewHTML-button",t.$btnPane).toggleClass(e+"active"),t.$box.hasClass(e+"editor-visible")?t.$ta.attr("tabindex",-1):t.$ta.removeAttr("tabindex")}),0)},dropdown:function(t){var n=this,r=n.doc,a=n.o.prefix,i=o("[data-dropdown="+t+"]",n.$box),s=o("."+a+t+"-button",n.$btnPane),l=i.is(":hidden");if(o("body",r).trigger("mousedown"),l){var c=s.offset().left;s.addClass(a+"active"),i.css({position:"absolute",top:s.offset().top-n.$btnPane.offset().top+s.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?c+"px":c-n.$btnPane.offset().left+"px"}).show(),o(e).trigger("scroll"),o("body",r).on("mousedown."+n.eventNamespace,(function(){o("."+a+"dropdown",r).hide(),o("."+a+"active",r).removeClass(a+"active"),o("body",r).off("mousedown."+n.eventNamespace)}))}},html:function(t){var e=this;return null!=t?(e.$ta.val(t),e.syncCode(!0),e):e.$ta.val()},syncTextarea:function(){var t=this;t.$ta.val(t.$ed.text().trim().length>0||t.$ed.find("hr,img,embed,iframe,input").length>0?t.$ed.html():"")},syncCode:function(t){var e=this;!t&&e.$ed.is(":visible")?e.syncTextarea():e.$ed.html(e.$ta.val()),e.o.autogrow&&(e.height=e.$ed.height(),e.height!==e.$ta.css("height")&&(e.$ta.css({height:e.height}),e.$c.trigger("tbwresize")))},semanticCode:function(t,e){var n=this;if(n.saveRange(),n.syncCode(t),o(n.o.tagsToRemove.join(","),n.$ed).remove(),n.o.semantic){if(n.semanticTag("b","strong"),n.semanticTag("i","em"),e){var r=n.o.inlineElementsSelector,a=":not("+r+")";n.$ed.contents().filter((function(){return 3===this.nodeType&&this.nodeValue.trim().length>0})).wrap("<span data-tbw/>");(function t(e){if(0!==e.length){var n=e.nextUntil(a).addBack().wrapAll("<p/>").parent(),o=n.nextAll(r).first();n.next("br").remove(),t(o)}})(n.$ed.children(r).first()),n.semanticTag("div","p",!0),n.$ed.find("p").filter((function(){return(!n.range||this!==n.range.startContainer)&&(0===o(this).text().trim().length&&0===o(this).children().not("br,span").length)})).contents().unwrap(),o("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}n.restoreRange(),n.syncTextarea()}},semanticTag:function(t,e,n){o(t,this.$ed).each((function(){var t=o(this);t.wrap("<"+e+"/>"),n&&o.each(t.prop("attributes"),(function(){t.parent().attr(this.name,this.value)})),t.contents().unwrap()}))},createLink:function(){for(var t,e,n,r=this,a=r.doc.getSelection(),i=a.focusNode;["A","DIV"].indexOf(i.nodeName)<0;)i=i.parentNode;if(i&&"A"===i.nodeName){var s=o(i);t=s.attr("href"),e=s.attr("title"),n=s.attr("target");var l=r.doc.createRange();l.selectNode(i),a.addRange(l)}r.saveRange(),r.openModalInsert(r.lang.createLink,{url:{label:"URL",required:!0,value:t},title:{label:r.lang.title,value:e},text:{label:r.lang.text,value:r.getRangeText()},target:{label:r.lang.target,value:n}},(function(t){var e=o(['<a href="',t.url,'">',t.text,"</a>"].join(""));return t.title.length>0&&e.attr("title",t.title),t.target.length>0&&e.attr("target",t.target),r.range.deleteContents(),r.range.insertNode(e[0]),!0}))},unlink:function(){var t=this,e=t.doc.getSelection(),n=e.focusNode;if(e.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var o=t.doc.createRange();o.selectNode(n),e.addRange(o)}}t.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var t=this;t.saveRange(),t.openModalInsert(t.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:t.lang.description,value:t.getRangeText()}},(function(e){return t.execCmd("insertImage",e.url),o('img[src="'+e.url+'"]:not([alt])',t.$box).attr("alt",e.alt),!0}))},fullscreen:function(){var t,n=this,r=n.o.prefix,a=r+"fullscreen";n.$box.toggleClass(a),t=n.$box.hasClass(a),o("body").toggleClass(r+"body-fullscreen",t),o(e).trigger("scroll"),n.$c.trigger("tbw"+(t?"open":"close")+"fullscreen")},execCmd:function(e,n,o,r){var a=this;r=!!r||"","dropdown"!==e&&a.$ed.focus();try{a.doc.execCommand("styleWithCSS",!1,o||!1)}catch(t){}try{a[e+r](n)}catch(o){try{e(n)}catch(o){"insertHorizontalRule"===e?n=void 0:"formatBlock"!==e||-1===t.userAgent.indexOf("MSIE")&&-1===t.appVersion.indexOf("Trident/")||(n="<"+n+">"),a.doc.execCommand(e,!1,n),a.syncCode(),a.semanticCode(!1,!0)}"dropdown"!==e&&(a.updateButtonPaneStatus(),a.$c.trigger("tbwchange"))}},openModal:function(t,n){var r=this,a=r.o.prefix;if(o("."+a+"modal-box",r.$box).length>0)return!1;r.saveRange(),r.showOverlay(),r.$btnPane.addClass(a+"disable");var i=o("<div/>",{class:a+"modal "+a+"fixed-top"}).css({top:r.$btnPane.height()}).appendTo(r.$box);r.$overlay.one("click",(function(){return i.trigger("tbwcancel"),!1}));var s=o("<form/>",{action:"",html:n}).on("submit",(function(){return i.trigger("tbwconfirm"),!1})).on("reset",(function(){return i.trigger("tbwcancel"),!1})),l=o("<div/>",{class:a+"modal-box",html:s}).css({top:"-"+r.$btnPane.outerHeight()+"px",opacity:0}).appendTo(i).animate({top:0,opacity:1},100);return o("<span/>",{text:t,class:a+"modal-title"}).prependTo(l),i.height(l.outerHeight()+10),o("input:first",l).focus(),r.buildModalBtn("submit",l),r.buildModalBtn("reset",l),o(e).trigger("scroll"),i},buildModalBtn:function(t,e){var n=this.o.prefix;return o("<button/>",{class:n+"modal-button "+n+"modal-"+t,type:t,text:this.lang[t]||t}).appendTo(o("form",e))},closeModal:function(){var t=this,e=t.o.prefix;t.$btnPane.removeClass(e+"disable"),t.$overlay.off();var n=o("."+e+"modal-box",t.$box);n.animate({top:"-"+n.height()},100,(function(){n.parent().remove(),t.hideOverlay()})),t.restoreRange()},openModalInsert:function(t,e,n){var r=this,a=r.o.prefix,i=r.lang,s="",l="tbwconfirm";return o.each(e,(function(t,e){var n=e.label,o=e.name||t,r=e.attributes||{},l=Object.keys(r).map((function(t){return t+'="'+r[t]+'"'})).join(" ");s+='<label><input type="'+(e.type||"text")+'" name="'+o+'" value="'+(e.value||"").replace(/"/g,"&quot;")+'"'+l+'><span class="'+a+'input-infos"><span>'+(n?i[n]?i[n]:n:i[t]?i[t]:t)+"</span></span></label>"})),r.openModal(t,s).on(l,(function(){var t=o("form",o(this)),a=!0,i={};o.each(e,(function(e,n){var s=o('input[name="'+e+'"]',t);"checkbox"===s.attr("type").toLowerCase()?i[e]=s.is(":checked"):i[e]=o.trim(s.val()),n.required&&""===i[e]?(a=!1,r.addErrorOnModalField(s,r.lang.required)):n.pattern&&!n.pattern.test(i[e])&&(a=!1,r.addErrorOnModalField(s,n.patternError))})),a&&(r.restoreRange(),n(i,e)&&(r.syncCode(),r.$c.trigger("tbwchange"),r.closeModal(),o(this).off(l)))})).one("tbwcancel",(function(){o(this).off(l),r.closeModal()}))},addErrorOnModalField:function(t,e){var n=this.o.prefix,r=t.parent();t.on("change keyup",(function(){r.removeClass(n+"input-error")})),r.addClass(n+"input-error").find("input+span").append(o("<span/>",{class:n+"msg-error",text:e}))},saveRange:function(){var t=this,e=t.doc.getSelection();if(t.range=null,e.rangeCount){var n,o=t.range=e.getRangeAt(0),r=t.doc.createRange();r.selectNodeContents(t.$ed[0]),r.setEnd(o.startContainer,o.startOffset),n=(r+"").length,t.metaRange={start:n,end:n+(o+"").length}}},restoreRange:function(){var t,e=this,n=e.metaRange,o=e.range,r=e.doc.getSelection();if(o){if(n&&n.start!==n.end){var a,i=0,s=[e.$ed[0]],l=!1,c=!1;for(t=e.doc.createRange();!c&&(a=s.pop());)if(3===a.nodeType){var d=i+a.length;!l&&n.start>=i&&n.start<=d&&(t.setStart(a,n.start-i),l=!0),l&&n.end>=i&&n.end<=d&&(t.setEnd(a,n.end-i),c=!0),i=d}else for(var u=a.childNodes,h=u.length;h>0;)h-=1,s.push(u[h])}r.removeAllRanges(),r.addRange(t||o)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var t=this,e=t.o.prefix,n=t.getTagsRecursive(t.doc.getSelection().focusNode),r=e+"active-button "+e+"active";o("."+e+"active-button",t.$btnPane).removeClass(r),o.each(n,(function(n,a){var i=t.tagToButton[a.toLowerCase()],s=o("."+e+i+"-button",t.$btnPane);if(s.length>0)s.addClass(r);else try{var l=(s=o("."+e+"dropdown ."+e+i+"-dropdown-button",t.$box)).parent().data("dropdown");o("."+e+l+"-button",t.$box).addClass(r)}catch(t){}}))},getTagsRecursive:function(t,e){var n=this;if(e=e||[],!t||!t.parentNode)return e;var r=(t=t.parentNode).tagName;return"DIV"===r?e:("P"===r&&""!==t.style.textAlign&&e.push(t.style.textAlign),o.each(n.tagHandlers,(function(o,r){e=e.concat(r(t,n))})),e.push(r),n.getTagsRecursive(t,e))},initPlugins:function(){var t=this;t.loadedPlugins=[],o.each(o.trumbowyg.plugins,(function(e,n){(!n.shouldInit||n.shouldInit(t))&&(n.init(t),n.tagHandler&&t.tagHandlers.push(n.tagHandler),t.loadedPlugins.push(n))}))},destroyPlugins:function(){o.each(this.loadedPlugins,(function(t,e){e.destroy&&e.destroy()}))}}}(navigator,window,document,jQuery)},function(t,e,n){"use strict";n.r(e);n(12);var o=n(2),r=n(0),a=n.n(r);function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}var l=n(3),c=n.n(l),d=n(4),u=n.n(d),h=function(){function t(t){u.a.prototype.signature=c.a.attribute("signature"),this._userdata=t}var e=t.prototype;return e.getSignature=function(){return this._userdata.attribute("signature")},e.setSignature=function(t){return this._userdata.save({signature:t})},t}(),g=n(1),p=n.n(g),f=n(5),v=n.n(f),b=n(6),y=n.n(b),x=n(7),w=n.n(x),M=n(8),z=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;return n.view=function(){return m("div",{className:"SignatureHolder"},m("div",{id:"trumbowyg-icons"},m("svg",{xmlns:"http://www.w3.org/2000/svg"},m("symbol",{id:"trumbowyg-blockquote",viewBox:"0 0 72 72"},m("path",{d:"M21.3 31.9h-.6c.8-1.2 1.9-2.2 3.4-3.2 2.1-1.4 5-2.7 9.2-3.3l-1.4-8.9c-4.7.7-8.5 2.1-11.7 4-2.4 1.4-4.3 3.1-5.8 4.9-2.3 2.7-3.7 5.7-4.5 8.5-.8 2.8-1 5.4-1 7.5 0 2.3.3 4 .4 4.8 0 .1.1.3.1.4 1.2 5.4 6.1 9.5 11.9 9.5 6.7 0 12.2-5.4 12.2-12.2s-5.5-12-12.2-12zM49.5 31.9h-.6c.8-1.2 1.9-2.2 3.4-3.2 2.1-1.4 5-2.7 9.2-3.3l-1.4-8.9c-4.7.7-8.5 2.1-11.7 4-2.4 1.4-4.3 3.1-5.8 4.9-2.3 2.7-3.7 5.7-4.5 8.5-.8 2.8-1 5.4-1 7.5 0 2.3.3 4 .4 4.8 0 .1.1.3.1.4 1.2 5.4 6.1 9.5 11.9 9.5 6.7 0 12.2-5.4 12.2-12.2s-5.5-12-12.2-12z"})),m("symbol",{id:"trumbowyg-bold",viewBox:"0 0 72 72"},m("path",{d:"M51.1 37.8c-1.1-1.4-2.5-2.5-4.2-3.3 1.2-.8 2.1-1.8 2.8-3 1-1.6 1.5-3.5 1.5-5.3 0-2-.6-4-1.7-5.8-1.1-1.8-2.8-3.2-4.8-4.1-2-.9-4.6-1.3-7.8-1.3h-16v42h16.3c2.6 0 4.8-.2 6.7-.7 1.9-.5 3.4-1.2 4.7-2.1 1.3-1 2.4-2.4 3.2-4.1.9-1.7 1.3-3.6 1.3-5.7.2-2.5-.5-4.7-2-6.6zM40.8 50.2c-.6.1-1.8.2-3.4.2h-9V38.5h8.3c2.5 0 4.4.2 5.6.6 1.2.4 2 1 2.7 2 .6.9 1 2 1 3.3 0 1.1-.2 2.1-.7 2.9-.5.9-1 1.5-1.7 1.9-.8.4-1.7.8-2.8 1zm2.6-20.4c-.5.7-1.3 1.3-2.5 1.6-.8.3-2.5.4-4.8.4h-7.7V21.6h7.1c1.4 0 2.6 0 3.6.1s1.7.2 2.2.4c1 .3 1.7.8 2.2 1.7.5.9.8 1.8.8 3-.1 1.3-.4 2.2-.9 3z"})),m("symbol",{id:"trumbowyg-close",viewBox:"0 0 72 72"},m("path",{d:"M57 20.5l-5.4-5.4-15.5 15.5-15.6-15.5-5.4 5.4L30.7 36 15.1 51.5l5.4 5.4 15.6-15.5 15.5 15.5 5.4-5.4L41.5 36z"})),m("symbol",{id:"trumbowyg-create-link",viewBox:"0 0 72 72"},m("path",{d:"M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z"}),m("path",{d:"M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z"})),m("symbol",{id:"trumbowyg-del",viewBox:"0 0 72 72"},m("path",{d:"M45.8 45c0 1-.3 1.9-.9 2.8-.6.9-1.6 1.6-3 2.1s-3.1.8-5 .8c-2.1 0-4-.4-5.7-1.1-1.7-.7-2.9-1.7-3.6-2.7-.8-1.1-1.3-2.6-1.5-4.5l-.1-.8-6.7.6v.9c.1 2.8.9 5.4 2.3 7.6 1.5 2.3 3.5 4 6.1 5.1 2.6 1.1 5.7 1.6 9.4 1.6 2.9 0 5.6-.5 8-1.6 2.4-1.1 4.3-2.7 5.6-4.7 1.3-2 2-4.2 2-6.5 0-1.6-.3-3.1-.9-4.5l-.2-.6H44c0 .1 1.8 2.3 1.8 5.5zM29 28.9c-.8-.8-1.2-1.7-1.2-2.9 0-.7.1-1.3.4-1.9.3-.6.7-1.1 1.4-1.6.6-.5 1.4-.9 2.5-1.1 1.1-.3 2.4-.4 3.9-.4 2.9 0 5 .6 6.3 1.7 1.3 1.1 2.1 2.7 2.4 5.1l.1.9 6.8-.5v-.9c-.1-2.5-.8-4.7-2.1-6.7s-3.2-3.5-5.6-4.5c-2.4-1-5.1-1.5-8.1-1.5-2.8 0-5.3.5-7.6 1.4-2.3 1-4.2 2.4-5.4 4.3-1.2 1.9-1.9 3.9-1.9 6.1 0 1.7.4 3.4 1.2 4.9l.3.5h11.8c-2.3-.9-3.9-1.7-5.2-2.9zm13.3-6.2zM22.7 20.3zM13 34.1h46.1v3.4H13z"})),m("symbol",{id:"trumbowyg-em",viewBox:"0 0 72 72"},m("path",{d:"M26 57l10.1-42h7.2L33.2 57H26z"})),m("symbol",{id:"trumbowyg-fullscreen",viewBox:"0 0 72 72"},m("path",{d:"M25.2 7.1H7.1v17.7l6.7-6.5 10.5 10.5 4.5-4.5-10.4-10.5zM47.2 7.1l6.5 6.7-10.5 10.5 4.5 4.5 10.5-10.4 6.7 6.8V7.1zM47.7 43.2l-4.5 4.5 10.4 10.5-6.8 6.7h18.1V47.2l-6.7 6.5zM24.3 43.2L13.8 53.6l-6.7-6.8v18.1h17.7l-6.5-6.7 10.5-10.5z"}),m("path",{fill:"currentColor",d:"M10.7 28.8h18.1V11.2l-6.6 6.4L11.6 7.1l-4.5 4.5 10.5 10.5zM60.8 28.8l-6.4-6.6 10.5-10.6-4.5-4.5-10.5 10.5-6.7-6.9v18.1zM60.4 64.9l4.5-4.5-10.5-10.5 6.9-6.7H43.2v17.6l6.6-6.4zM11.6 64.9l10.5-10.5 6.7 6.9V43.2H11.1l6.5 6.6L7.1 60.4z"})),m("symbol",{id:"trumbowyg-h1",viewBox:"0 0 72 72"},m("path",{d:"M6.4 14.9h7.4v16.7h19.1V14.9h7.4V57h-7.4V38H13.8v19H6.4V14.9zM47.8 22.5c1.4 0 2.8-.1 4.1-.4 1.3-.2 2.5-.6 3.6-1.2 1.1-.5 2-1.3 2.8-2.1.8-.9 1.3-1.9 1.5-3.2h5.5v41.2h-7.4v-29H47.8v-5.3z"})),m("symbol",{id:"trumbowyg-h2",viewBox:"0 0 72 72"},m("path",{d:"M1.5 14.9h7.4v16.7H28V14.9h7.4V57H28V38H8.8v19H1.5V14.9zM70.2 56.9H42c0-3.4.9-6.4 2.5-9s3.8-4.8 6.6-6.7c1.3-1 2.7-1.9 4.2-2.9 1.5-.9 2.8-1.9 4-3 1.2-1.1 2.2-2.2 3-3.4.8-1.2 1.2-2.7 1.2-4.3 0-.7-.1-1.5-.3-2.4s-.5-1.6-1-2.4c-.5-.7-1.2-1.3-2.1-1.8-.9-.5-2.1-.7-3.5-.7-1.3 0-2.4.3-3.3.8s-1.6 1.3-2.1 2.2-.9 2-1.2 3.3c-.3 1.3-.4 2.6-.4 4.1h-6.7c0-2.3.3-4.4.9-6.3.6-1.9 1.5-3.6 2.7-5 1.2-1.4 2.7-2.5 4.4-3.3 1.7-.8 3.8-1.2 6.1-1.2 2.5 0 4.6.4 6.3 1.2 1.7.8 3.1 1.9 4.1 3.1 1 1.3 1.8 2.6 2.2 4.1.4 1.5.6 2.9.6 4.2 0 1.6-.3 3.1-.8 4.5-.5 1.3-1.2 2.6-2.1 3.7-.9 1.1-1.8 2.2-2.9 3.1-1.1.9-2.2 1.8-3.4 2.7-1.2.8-2.4 1.6-3.5 2.4-1.2.7-2.3 1.5-3.3 2.2-1 .7-1.9 1.5-2.6 2.3-.7.8-1.3 1.7-1.5 2.6h20.1v5.9z"})),m("symbol",{id:"trumbowyg-h3",viewBox:"0 0 72 72"},m("path",{d:"M1.4 14.5h7.4v16.7h19.1V14.5h7.4v42.1h-7.4v-19H8.8v19H1.4V14.5zM53.1 32.4c1.1 0 2.2 0 3.3-.2 1.1-.2 2.1-.5 2.9-1 .9-.5 1.6-1.2 2.1-2 .5-.9.8-1.9.8-3.2 0-1.8-.6-3.2-1.8-4.2-1.2-1.1-2.7-1.6-4.6-1.6-1.2 0-2.2.2-3.1.7-.9.5-1.6 1.1-2.2 1.9-.6.8-1 1.7-1.3 2.7-.3 1-.4 2-.4 3.1h-6.7c.1-2 .5-3.9 1.1-5.6.7-1.7 1.6-3.2 2.7-4.4s2.6-2.2 4.2-2.9c1.6-.7 3.5-1.1 5.6-1.1 1.6 0 3.2.2 4.7.7 1.6.5 2.9 1.2 4.2 2.1 1.2.9 2.2 2.1 3 3.4.7 1.4 1.1 3 1.1 4.8 0 2.1-.5 3.9-1.4 5.4-.9 1.6-2.4 2.7-4.4 3.4v.1c2.4.5 4.2 1.6 5.5 3.5 1.3 1.9 2 4.1 2 6.8 0 2-.4 3.7-1.2 5.3-.8 1.6-1.8 2.9-3.2 3.9-1.3 1.1-2.9 1.9-4.7 2.5-1.8.6-3.6.9-5.6.9-2.4 0-4.5-.3-6.3-1s-3.3-1.7-4.5-2.9c-1.2-1.3-2.1-2.8-2.7-4.5-.6-1.8-1-3.7-1-5.9h6.7c-.1 2.5.5 4.6 1.9 6.3 1.3 1.7 3.3 2.5 5.9 2.5 2.2 0 4.1-.6 5.6-1.9 1.5-1.3 2.3-3.1 2.3-5.4 0-1.6-.3-2.9-.9-3.8-.6-.9-1.5-1.7-2.5-2.2-1-.5-2.2-.8-3.4-.9-1.3-.1-2.6-.2-3.9-.1v-5.2z"})),m("symbol",{id:"trumbowyg-h4",viewBox:"0 0 72 72"},m("path",{d:"M1.5 14.9h7.4v16.7H28V14.9h7.4V57H28V38H8.9v19H1.5V14.9zM70.5 47.2h-5.3V57h-6.4v-9.8H41.2v-6.7l17.7-24.8h6.4v26.2h5.3v5.3zm-24.2-5.3h12.5V23.7h-.1L46.3 41.9z"})),m("symbol",{id:"trumbowyg-horizontal-rule",viewBox:"0 0 72 72"},m("path",{d:"M9.1 32h54v8h-54z"})),m("symbol",{id:"trumbowyg-insert-image",viewBox:"0 0 72 72"},m("path",{d:"M64 17v38H8V17h56m8-8H0v54h72V9z"}),m("path",{d:"M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z"})),m("symbol",{id:"trumbowyg-italic",viewBox:"0 0 72 72"},m("path",{d:"M26 57l10.1-42h7.2L33.2 57H26z"})),m("symbol",{id:"trumbowyg-justify-center",viewBox:"0 0 72 72"},m("path",{d:"M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z"})),m("symbol",{id:"trumbowyg-justify-full",viewBox:"0 0 72 72"},m("path",{d:"M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z"})),m("symbol",{id:"trumbowyg-justify-left",viewBox:"0 0 72 72"},m("path",{d:"M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z"})),m("symbol",{id:"trumbowyg-justify-right",viewBox:"0 0 72 72"},m("path",{d:"M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z"})),m("symbol",{id:"trumbowyg-link",viewBox:"0 0 72 72"},m("path",{d:"M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z"}),m("path",{d:"M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2z"})),m("symbol",{id:"trumbowyg-ordered-list",viewBox:"0 0 72 72"},m("path",{d:"M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z"})),m("symbol",{id:"trumbowyg-p",viewBox:"0 0 72 72"},m("path",{d:"M47.8 15.1H30.1c-4.7 0-8.5 3.7-8.5 8.4s3.7 8.4 8.4 8.4v25h7V19.8h3v37.1h4.1V19.8h3.7v-4.7z"})),m("symbol",{id:"trumbowyg-redo",viewBox:"0 0 72 72"},m("path",{d:"M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z"})),m("symbol",{id:"trumbowyg-removeformat",viewBox:"0 0 72 72"},m("path",{d:"M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z"})),m("symbol",{id:"trumbowyg-strikethrough",viewBox:"0 0 72 72"},m("path",{d:"M45.8 45c0 1-.3 1.9-.9 2.8-.6.9-1.6 1.6-3 2.1s-3.1.8-5 .8c-2.1 0-4-.4-5.7-1.1-1.7-.7-2.9-1.7-3.6-2.7-.8-1.1-1.3-2.6-1.5-4.5l-.1-.8-6.7.6v.9c.1 2.8.9 5.4 2.3 7.6 1.5 2.3 3.5 4 6.1 5.1 2.6 1.1 5.7 1.6 9.4 1.6 2.9 0 5.6-.5 8-1.6 2.4-1.1 4.3-2.7 5.6-4.7 1.3-2 2-4.2 2-6.5 0-1.6-.3-3.1-.9-4.5l-.2-.6H44c0 .1 1.8 2.3 1.8 5.5zM29 28.9c-.8-.8-1.2-1.7-1.2-2.9 0-.7.1-1.3.4-1.9.3-.6.7-1.1 1.4-1.6.6-.5 1.4-.9 2.5-1.1 1.1-.3 2.4-.4 3.9-.4 2.9 0 5 .6 6.3 1.7 1.3 1.1 2.1 2.7 2.4 5.1l.1.9 6.8-.5v-.9c-.1-2.5-.8-4.7-2.1-6.7s-3.2-3.5-5.6-4.5c-2.4-1-5.1-1.5-8.1-1.5-2.8 0-5.3.5-7.6 1.4-2.3 1-4.2 2.4-5.4 4.3-1.2 1.9-1.9 3.9-1.9 6.1 0 1.7.4 3.4 1.2 4.9l.3.5h11.8c-2.3-.9-3.9-1.7-5.2-2.9zm13.3-6.2zM22.7 20.3zM13 34.1h46.1v3.4H13z"})),m("symbol",{id:"trumbowyg-strong",viewBox:"0 0 72 72"},m("path",{d:"M51.1 37.8c-1.1-1.4-2.5-2.5-4.2-3.3 1.2-.8 2.1-1.8 2.8-3 1-1.6 1.5-3.5 1.5-5.3 0-2-.6-4-1.7-5.8-1.1-1.8-2.8-3.2-4.8-4.1-2-.9-4.6-1.3-7.8-1.3h-16v42h16.3c2.6 0 4.8-.2 6.7-.7 1.9-.5 3.4-1.2 4.7-2.1 1.3-1 2.4-2.4 3.2-4.1.9-1.7 1.3-3.6 1.3-5.7.2-2.5-.5-4.7-2-6.6zM40.8 50.2c-.6.1-1.8.2-3.4.2h-9V38.5h8.3c2.5 0 4.4.2 5.6.6 1.2.4 2 1 2.7 2 .6.9 1 2 1 3.3 0 1.1-.2 2.1-.7 2.9-.5.9-1 1.5-1.7 1.9-.8.4-1.7.8-2.8 1zm2.6-20.4c-.5.7-1.3 1.3-2.5 1.6-.8.3-2.5.4-4.8.4h-7.7V21.6h7.1c1.4 0 2.6 0 3.6.1s1.7.2 2.2.4c1 .3 1.7.8 2.2 1.7.5.9.8 1.8.8 3-.1 1.3-.4 2.2-.9 3z"})),m("symbol",{id:"trumbowyg-subscript",viewBox:"0 0 72 72"},m("path",{d:"M32 15h7.8L56 57.1h-7.9L44.3 46H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1zM58.7 59.9c.6-1.4 2-2.8 4.1-4.4 1.9-1.3 3.1-2.3 3.7-2.9.8-.9 1.3-1.9 1.3-3 0-.9-.2-1.6-.7-2.2-.5-.6-1.2-.9-2.1-.9-1.2 0-2.1.5-2.5 1.4-.3.5-.4 1.4-.5 2.5h-4c.1-1.8.4-3.2 1-4.3 1.1-2.1 3-3.1 5.8-3.1 2.2 0 3.9.6 5.2 1.8 1.3 1.2 1.9 2.8 1.9 4.8 0 1.5-.5 2.9-1.4 4.1-.6.8-1.6 1.7-3 2.6L66 57.7c-1 .7-1.7 1.2-2.1 1.6-.4.3-.7.7-1 1.1H72V64H57.8c0-1.5.3-2.8.9-4.1z"})),m("symbol",{id:"trumbowyg-superscript",viewBox:"0 0 72 72"},m("path",{d:"M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1zM49.6 28.8c.5-1.1 1.6-2.3 3.4-3.6 1.5-1.1 2.5-1.9 3-2.4.7-.7 1-1.6 1-2.4 0-.7-.2-1.3-.6-1.8-.4-.5-1-.7-1.7-.7-1 0-1.7.4-2.1 1.1-.2.4-.3 1.1-.4 2.1H49c.1-1.5.3-2.6.8-3.5.9-1.7 2.5-2.6 4.8-2.6 1.8 0 3.2.5 4.3 1.5 1.1 1 1.6 2.3 1.6 4 0 1.3-.4 2.4-1.1 3.4-.5.7-1.3 1.4-2.4 2.2l-1.3 1c-.8.6-1.4 1-1.7 1.3-.3.3-.6.6-.8.9h7.4v3H48.8c0-1.3.3-2.4.8-3.5z"})),m("symbol",{id:"trumbowyg-table",viewBox:"0 0 72 72"},m("path",{d:"M25.686 51.38v-6.347q0-.462-.297-.76-.298-.297-.761-.297H14.04q-.463 0-.761.297-.298.298-.298.76v6.346q0 .463.298.76.298.298.76.298h10.589q.463 0 .76-.298.298-.297.298-.76zm0-12.692v-6.346q0-.463-.297-.76-.298-.298-.761-.298H14.04q-.463 0-.761.298-.298.297-.298.76v6.346q0 .462.298.76.298.297.76.297h10.589q.463 0 .76-.297.298-.298.298-.76zm16.94 12.691v-6.346q0-.462-.297-.76-.298-.297-.761-.297H30.98q-.463 0-.76.297-.299.298-.299.76v6.346q0 .463.298.76.298.298.761.298h10.588q.463 0 .76-.298.299-.297.299-.76zm-16.94-25.383v-6.345q0-.463-.297-.76-.298-.298-.761-.298H14.04q-.463 0-.761.297-.298.298-.298.76v6.346q0 .463.298.76.298.298.76.298h10.589q.463 0 .76-.298.298-.297.298-.76zm16.94 12.692v-6.346q0-.463-.297-.76-.298-.298-.761-.298H30.98q-.463 0-.76.298-.299.297-.299.76v6.346q0 .462.298.76.298.297.761.297h10.588q.463 0 .76-.297.299-.298.299-.76zm16.94 12.691v-6.346q0-.462-.297-.76-.298-.297-.76-.297H47.92q-.463 0-.76.297-.298.298-.298.76v6.346q0 .463.297.76.298.298.761.298h10.588q.463 0 .761-.298.298-.297.298-.76zm-16.94-25.383v-6.345q0-.463-.297-.76-.298-.298-.761-.298H30.98q-.463 0-.76.297-.299.298-.299.76v6.346q0 .463.298.76.298.298.761.298h10.588q.463 0 .76-.298.299-.297.299-.76zm16.94 12.692v-6.346q0-.463-.297-.76-.298-.298-.76-.298H47.92q-.463 0-.76.298-.298.297-.298.76v6.346q0 .462.297.76.298.297.761.297h10.588q.463 0 .761-.297.298-.298.298-.76zm0-12.692v-6.345q0-.463-.297-.76-.298-.298-.76-.298H47.92q-.463 0-.76.297-.298.298-.298.76v6.346q0 .463.297.76.298.298.761.298h10.588q.463 0 .761-.298.298-.297.298-.76zm4.236-10.576v35.96q0 2.18-1.555 3.734-1.555 1.553-3.739 1.553H14.04q-2.184 0-3.739-1.553-1.555-1.553-1.555-3.735V15.42q0-2.181 1.555-3.735 1.555-1.553 3.739-1.553h44.468q2.184 0 3.739 1.553 1.555 1.554 1.555 3.735z"})),m("symbol",{id:"trumbowyg-underline",viewBox:"0 0 72 72"},m("path",{d:"M36 35zM15.2 55.9h41.6V59H15.2zM21.1 13.9h6.4v21.2c0 1.2.1 2.5.2 3.7.1 1.3.5 2.4 1 3.4.6 1 1.4 1.8 2.6 2.5 1.1.6 2.7 1 4.8 1 2.1 0 3.7-.3 4.8-1 1.1-.6 2-1.5 2.6-2.5.6-1 .9-2.1 1-3.4.1-1.3.2-2.5.2-3.7V13.9H51v23.3c0 2.3-.4 4.4-1.1 6.1-.7 1.7-1.7 3.2-3 4.4-1.3 1.2-2.9 2-4.7 2.6-1.8.6-3.9.9-6.1.9-2.2 0-4.3-.3-6.1-.9-1.8-.6-3.4-1.5-4.7-2.6-1.3-1.2-2.3-2.6-3-4.4-.7-1.7-1.1-3.8-1.1-6.1V13.9z"})),m("symbol",{id:"trumbowyg-undo",viewBox:"0 0 72 72"},m("path",{d:"M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z"})),m("symbol",{id:"trumbowyg-unlink",viewBox:"0 0 72 72"},m("path",{d:"M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z"}),m("path",{d:"M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z"})),m("symbol",{id:"trumbowyg-unordered-list",viewBox:"0 0 72 72"},m("path",{d:"M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z"})),m("symbol",{id:"trumbowyg-view-html",viewBox:"0 0 72 72"},m("path",{fill:"none",stroke:"currentColor","stroke-width":"8","stroke-miterlimit":"10",d:"M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9"})),m("symbol",{id:"trumbowyg-base64",viewBox:"0 0 72 72"},m("path",{d:"M64 17v38H8V17h56m8-8H0v54h72V9z"}),m("path",{d:"M29.9 28.9c-.5-.5-1.1-.8-1.8-.8s-1.4.2-1.9.7c-.5.4-.9 1-1.2 1.6-.3.6-.5 1.3-.6 2.1-.1.7-.2 1.4-.2 1.9l.1.1c.6-.8 1.2-1.4 2-1.8.8-.4 1.7-.5 2.7-.5.9 0 1.8.2 2.6.6.8.4 1.6.9 2.2 1.5.6.6 1 1.3 1.2 2.2.3.8.4 1.6.4 2.5 0 1.1-.2 2.1-.5 3-.3.9-.8 1.7-1.5 2.4-.6.7-1.4 1.2-2.3 1.6-.9.4-1.9.6-3 .6-1.6 0-2.8-.3-3.9-.9-1-.6-1.8-1.4-2.5-2.4-.6-1-1-2.1-1.3-3.4-.2-1.3-.4-2.6-.4-3.9 0-1.3.1-2.6.4-3.8.3-1.3.8-2.4 1.4-3.5.7-1 1.5-1.9 2.5-2.5 1-.6 2.3-1 3.8-1 .9 0 1.7.1 2.5.4.8.3 1.4.6 2 1.1.6.5 1.1 1.1 1.4 1.8.4.7.6 1.5.7 2.5h-4c0-1-.3-1.6-.8-2.1zm-3.5 6.8c-.4.2-.8.5-1 .8-.3.4-.5.8-.6 1.2-.1.5-.2 1-.2 1.5s.1.9.2 1.4c.1.5.4.9.6 1.2.3.4.6.7 1 .9.4.2.9.3 1.4.3.5 0 1-.1 1.3-.3.4-.2.7-.5 1-.9.3-.4.5-.8.6-1.2.1-.5.2-.9.2-1.4 0-.5-.1-1-.2-1.4-.1-.5-.3-.9-.6-1.2-.3-.4-.6-.7-1-.9-.4-.2-.9-.3-1.4-.3-.4 0-.9.1-1.3.3zM36.3 41.3v-3.8l9-12.1H49v12.4h2.7v3.5H49v4.8h-4v-4.8h-8.7zM45 30.7l-5.3 7.2h5.4l-.1-7.2z"})),m("symbol",{id:"trumbowyg-back-color",viewBox:"0 0 72 72"},m("path",{d:"M36.5 22.3l-6.3 18.1H43l-6.3-18.1z"}),m("path",{d:"M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z"})),m("symbol",{id:"trumbowyg-fore-color",viewBox:"0 0 72 72"},m("path",{d:"M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z"})),m("symbol",{id:"trumbowyg-insert-audio",viewBox:"0 0 8 8"},m("path",{d:"M3.344 0L2 2H0v4h2l1.344 2H4V0h-.656zM5 1v1c.152 0 .313.026.469.063H5.5c.86.215 1.5.995 1.5 1.938a1.99 1.99 0 0 1-2 2.001v1a2.988 2.988 0 0 0 3-3 2.988 2.988 0 0 0-3-3zm0 2v2l.25-.031C5.683 4.851 6 4.462 6 4c0-.446-.325-.819-.75-.938v-.031h-.031L5 3z"})),m("symbol",{id:"trumbowyg-emoji",viewBox:"0 0 72 72"},m("path",{d:"M36.05 9C21.09 9 8.949 21.141 8.949 36.101c0 14.96 12.141 27.101 27.101 27.101 14.96 0 27.101-12.141 27.101-27.101S51.01 9 36.05 9zm9.757 15.095c2.651 0 4.418 1.767 4.418 4.418s-1.767 4.418-4.418 4.418-4.418-1.767-4.418-4.418 1.767-4.418 4.418-4.418zm-19.479 0c2.651 0 4.418 1.767 4.418 4.418s-1.767 4.418-4.418 4.418-4.418-1.767-4.418-4.418 1.767-4.418 4.418-4.418zm9.722 30.436c-14.093 0-16.261-13.009-16.261-13.009h32.522S50.143 54.531 36.05 54.531z"})),m("symbol",{id:"trumbowyg-noembed",viewBox:"0 0 72 72"},m("path",{d:"M31.5 33.6V25l11 11-11 11v-8.8z"}),m("path",{d:"M64 17v38H8V17h56m8-8H0v54h72V9z"})),m("symbol",{id:"trumbowyg-preformatted",viewBox:"0 0 72 72"},m("path",{d:"M10.3 33.5c.4 0 .9-.1 1.5-.2s1.2-.3 1.8-.7c.6-.3 1.1-.8 1.5-1.3.4-.5.6-1.3.6-2.1V17.1c0-1.4.3-2.6.8-3.6s1.2-1.9 2-2.5c.8-.7 1.6-1.2 2.5-1.5.9-.3 1.6-.5 2.2-.5h5.3v5.3h-3.2c-.7 0-1.3.1-1.8.4-.4.3-.8.6-1 1-.2.4-.4.9-.4 1.3-.1.5-.1.9-.1 1.4v11.4c0 1.2-.2 2.1-.7 2.9-.5.8-1 1.4-1.7 1.8-.6.4-1.3.8-2 1-.7.2-1.3.3-1.7.4v.1c.5 0 1 .1 1.7.3.7.2 1.3.5 2 .9.6.5 1.2 1.1 1.7 1.9.5.8.7 2 .7 3.4v11.1c0 .4 0 .9.1 1.4.1.5.2.9.4 1.3s.6.7 1 1c.4.3 1 .4 1.8.4h3.2V63h-5.3c-.6 0-1.4-.2-2.2-.5-.9-.3-1.7-.8-2.5-1.5s-1.4-1.5-2-2.5c-.5-1-.8-2.2-.8-3.6V43.5c0-.9-.2-1.7-.6-2.3-.4-.6-.9-1.1-1.5-1.5-.6-.4-1.2-.6-1.8-.7-.6-.1-1.1-.2-1.5-.2v-5.3zM61.8 38.7c-.4 0-1 .1-1.6.2-.6.1-1.2.4-1.8.7-.6.3-1.1.7-1.5 1.3-.4.5-.6 1.3-.6 2.1v12.1c0 1.4-.3 2.6-.8 3.6s-1.2 1.9-2 2.5c-.8.7-1.6 1.2-2.5 1.5-.9.3-1.6.5-2.2.5h-5.3v-5.3h3.2c.7 0 1.3-.1 1.8-.4.4-.3.8-.6 1-1 .2-.4.4-.9.4-1.3.1-.5.1-.9.1-1.4V42.3c0-1.2.2-2.1.7-2.9.5-.8 1-1.4 1.7-1.8.6-.4 1.3-.8 2-1 .7-.2 1.3-.3 1.7-.4v-.1c-.5 0-1-.1-1.7-.3-.7-.2-1.3-.5-2-.9-.6-.4-1.2-1.1-1.7-1.9-.5-.8-.7-2-.7-3.4V18.5c0-.4 0-.9-.1-1.4-.1-.5-.2-.9-.4-1.3s-.6-.7-1-1c-.4-.3-1-.4-1.8-.4h-3.2V9.1h5.3c.6 0 1.4.2 2.2.5.9.3 1.7.8 2.5 1.5s1.4 1.5 2 2.5c.5 1 .8 2.2.8 3.6v11.6c0 .9.2 1.7.6 2.3.4.6.9 1.1 1.5 1.5.6.4 1.2.6 1.8.7.6.1 1.2.2 1.6.2v5.2z"})),m("symbol",{id:"trumbowyg-upload",viewBox:"0 0 72 72"},m("path",{d:"M64 27v28H8V27H0v36h72V27h-8z"}),m("path",{d:"M32.1 6.7h8v33.6h-8z"}),m("path",{d:"M48 35.9L36 49.6 24 36h24z"})))),m("div",{className:this.attrs.className},m.trust(this.attrs.content)))},n.oncreate=function(e){t.prototype.oncreate.call(this,e),m.redraw(),$("."+this.attrs.className).trumbowyg({btns:[["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify",["fullscreen"]],autogrow:!0,removeformatPasted:!0,svgPath:".trumbowyg-icons"})},e}(n.n(M).a),H=n(9),C=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.value=this.attrs.value,this.titleText=this.attrs.titleText||"",this.close=this.attrs.close||!1,this.errors=this.attrs.errors||!1},n.title=function(){return this.titleText},n.isDismissible=function(){return this.close},n.className=function(){return"LoadingModal Modal--small"},n.content=function(){var t="";return this.errors&&(t=m("ul",this.errors.map((function(t){return m("li",{},t)})))),m("div",{className:"Modal-body"},m("p",null,this.value),t)},e}(n.n(H).a),k=function(t){function e(){return t.apply(this,arguments)||this}s(e,t);var n=e.prototype;return n.oninit=function(e){t.prototype.oninit.call(this,e),this.show(a.a.session.user),a.a.drawer.hide(),a.a.modal.close(),a.a.setTitle(a.a.translator.trans("core.forum.settings.title")),this.model=new h(a.a.session.user)},n.content=function(){return m("div",{className:"SettingsPage"},m("ul",null,v()(this.signatureItems().toArray())))},n.signatureItems=function(){var t=this,e=new y.a;return e.add("signature",m(z,{className:"Signature",rows:10,cols:100,content:this.model.getSignature()})),e.add("saveSignature",m(w.a,{className:"Button",onclick:function(){return t.saveSignature()}},a.a.translator.trans("signature.forum.buttons.save"))),e},n.saveSignature=function(){a.a.modal.show(C,{titleText:a.a.translator.trans("signature.forum.modal.loading.title"),value:a.a.translator.trans("signature.forum.modal.loading.content")}),this.signature=$(".Signature").trumbowyg("html");var t={signature:this.signature};a.a.request({url:a.a.forum.attribute("apiUrl")+"/settings/signature/validate",method:"POST",body:t}).then(this.response.bind(this))},n.response=function(t){t.status?this.model.setSignature(this.signature).then((function(){window.location.reload()})):(t.errors?a.a.alerts.show({type:"error "},[a.a.translator.trans("signature.forum.modal.error.title"),"\n",t.errors.map((function(t){return t+"\n"}))]):a.a.alerts.show({type:"error "},a.a.translator.trans("signature.forum.modal.error.title")),a.a.modal.close())},e}(p.a),B=n(10),L=n.n(B),T=n(11),V=n.n(T);a.a.initializers.add("signature",(function(){a.a.routes["settings.signature"]={path:"/settings/signature",component:k},Object(o.extend)(p.a.prototype,"navItems",(function(t){a.a.session.user&&(this.user.id()!==a.a.session.user.id()&&1!=a.a.session.user.id()||t.add("signature",m(L.a,{href:a.a.route("settings.signature"),icon:"fas fa-signature",class:"Button Button--link hasIcon"},a.a.translator.trans("signature.forum.buttons.signature")),-100))})),Object(o.extend)(V.a.prototype,"view",(function(t){var e=this.attrs.post.user().data.attributes.signature||!1;return e&&t.children.push(m("div.SignatureWrapper",{},m.trust(e))),t}))}))}]);
//# sourceMappingURL=forum.js.map